<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Valentine ðŸ’˜</title>

    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .screen {
            text-align: center;
            color: white;
            width: 100%;
            max-width: 420px;
        }

        h1 {
            font-size: clamp(1.8em, 5vw, 2.5em);
            margin-bottom: 30px;
            text-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .buttons {
            position: relative;
            height: 180px;
            width: 100%;
            display: flex;
            text-align: center;
            align-items: center;
            /*overflow: hidden;*/
        }

        button {
            position: absolute;
            width: 140px;
            padding: 18px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            transition: transform 0.25s ease;
        }

        #yesBtn {
            background: #ff4b5c;
            color: white;
            left: 50%;
            transform: translateX(-110%);
        }

        #noBtn {
            background: white;
            color: #ff4b5c;
            left: 50%;
            transform: translateX(10%);
            opacity: 1;
            cursor: default;
        }
        #noBtn.hide {
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        #yesBtn:hover {
            background: #ff1e38;
            transform: translateX(-110%) scale(1.08);
        }

        .hidden {
            display: none;
        }

        /* Second screen */
        .love-screen img {
            width: 100%;
            max-width: 280px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .love-text {
            font-size: clamp(1.6em, 5vw, 2.2em);
            margin-top: 20px;
            animation: pulse 2s infinite;
        }

        .tease-container {
            margin-top: 150px;
        }

        .tease-text {
            margin-top: 20px;
            font-size: 1.3em;
            color: #fff;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .tease-text.show {
            opacity: 1;
        }

        #okayText {
            margin-top: 10px;
            font-size: 1.4em;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        #okayText.show {
            opacity: 1;
        }

        .confetti-heart {
            position: fixed;
            top: -10vh;
            font-size: 20px;
            animation: confetti-fall linear forwards;
            pointer-events: none;
            z-index: 999;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Hearts */
        .heart {
            position: absolute;
            color: rgba(255,255,255,0.8);
            font-size: 20px;
            animation: float 6s linear infinite;
            pointer-events: none;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-10vh) scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>
<body>

<div class="screen" id="firstScreen">
    <h1>Will you be my Valentine? ðŸ’•</h1>
    <div class="buttons">
        <button id="yesBtn">Yes ðŸ’–</button>
        <button id="noBtn">No ðŸ™ˆ</button>
    </div>
    <div class="tease-container">
        <div class="tease-text" id="teaseText">
            Just say YES already ðŸ˜œ
        </div>
        <div class="tease-text" id="okayText">
            Okay okay ðŸ˜…
        </div>
    </div>
</div>

<div class="screen love-screen hidden" id="secondScreen">
    <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" alt="Love gif">
    <div class="love-text">I knew you would say YES ðŸ’˜</div>
</div>

<script>
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const firstScreen = document.getElementById('firstScreen');
    const secondScreen = document.getElementById('secondScreen');
    const teaseText = document.getElementById('teaseText');
    const okayText = document.getElementById('okayText');

    let offsetX = 0;
    let offsetY = 0;
    let attempts = 0;
    let isMoving = false;

    const pushDistance = 100;

    function repel(e) {
        if (isMoving) return; // ðŸš« Ð±Ð»Ð¾ÐºÑƒÑ”Ð¼Ð¾ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸
        isMoving = true;

        if (navigator.vibrate) {
            navigator.vibrate(15);
        }

        attempts++;

        if (attempts === 5) {
            teaseText.classList.add('show');
        }
        if (attempts === 6) {
            okayText.classList.add('show');
        }
        if (attempts === 7) {
            noBtn.classList.add('hide');
        }

        const btnRect = noBtn.getBoundingClientRect();
        const parentRect = noBtn.parentElement.getBoundingClientRect();

        const pointerX = e.touches ? e.touches[0].clientX : e.clientX;
        const pointerY = e.touches ? e.touches[0].clientY : e.clientY;

        const btnCenterX = btnRect.left + btnRect.width / 2;
        const btnCenterY = btnRect.top + btnRect.height / 2;

        let dx = btnCenterX - pointerX;
        let dy = btnCenterY - pointerY;

        const length = Math.hypot(dx, dy) || 1;
        dx /= length;
        dy /= length;

        let newX = offsetX + dx * pushDistance;
        let newY = offsetY + dy * pushDistance;

        const maxX = parentRect.width - btnRect.width;
        const maxY = parentRect.height - btnRect.height;

        newX = Math.max(50, Math.min(maxX, newX));
        newY = Math.max(-50, Math.min(maxY, newY));

        offsetX = newX;
        offsetY = newY;

        noBtn.style.transform = `translate(${offsetY}px, ${offsetX}px)`;

        // â± Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑ”Ð¼Ð¾ Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ñƒ ÑÐ¿Ñ€Ð¾Ð±Ñƒ Ð¿Ñ–ÑÐ»Ñ Ð°Ð½Ñ–Ð¼Ð°Ñ†Ñ–Ñ—
        setTimeout(() => {
            isMoving = false;
        }, 200);
    }

    // âš ï¸ ÐšÐ›Ð®Ð§ÐžÐ’Ð Ð—ÐœÐ†ÐÐ
    noBtn.addEventListener('mouseenter', repel);
    noBtn.addEventListener('touchstart', repel);

    yesBtn.addEventListener('click', () => {
        firstScreen.classList.add('hidden');
        secondScreen.classList.remove('hidden');
        startHeartConfetti();
    });

    // hearts animation
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = 'â¤ï¸';
        heart.style.left = Math.random() * (document.documentElement.clientWidth - 30) + 'px';
        heart.style.fontSize = Math.random() * 20 + 15 + 'px';
        heart.style.animationDuration = Math.random() * 3 + 4 + 's';
        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 6000);
    }, 300);

    function startHeartConfetti() {
        const interval = setInterval(() => {
            const heart = document.createElement('div');
            heart.className = 'confetti-heart';
            heart.textContent = 'â¤ï¸';

            heart.style.left = Math.random() * (document.documentElement.clientWidth - 30) + 'px';
            heart.style.fontSize = Math.random() * 20 + 16 + 'px';
            heart.style.animationDuration = Math.random() * 2 + 3 + 's';

            document.body.appendChild(heart);

            setTimeout(() => heart.remove(), 5000);
        }, 200);

        // Ð·ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ñ‡ÐµÑ€ÐµÐ· 4 ÑÐµÐºÑƒÐ½Ð´Ð¸
        setTimeout(() => clearInterval(interval), 4000);
    }

</script>

</body>
</html>
